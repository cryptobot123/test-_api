"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const buildable_libs_utils_1 = require("@nrwl/workspace/src/utilities/buildable-libs-utils");
const compilation_1 = require("@nrwl/workspace/src/utilities/typescript/compilation");
const path_1 = require("path");
function compileTypeScriptFiles(options, context, libRoot, projectDependencies) {
    let tsConfigPath = path_1.join(context.root, options.tsConfig);
    if (projectDependencies.length > 0) {
        tsConfigPath = buildable_libs_utils_1.createTmpTsConfig(tsConfigPath, context.root, libRoot, projectDependencies);
    }
    return compilation_1.compileTypeScript({
        outputPath: options.normalizedOutputPath,
        projectName: context.projectName,
        projectRoot: libRoot,
        tsConfig: tsConfigPath,
        deleteOutputPath: options.deleteOutputPath,
        rootDir: options.srcRootForCompilationRoot,
        watch: options.watch,
    });
}
exports.default = compileTypeScriptFiles;
//# sourceMappingURL=compile-typescript-files.js.map